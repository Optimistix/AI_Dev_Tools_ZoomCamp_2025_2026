<!DOCTYPE html>
<html>
<head>
    <title>TODO List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<div class="container">
    <h1 class="mb-4">TODO List</h1>

    <a class="btn btn-primary mb-3" href="{% url 'todo_create' %}">Create TODO</a>

    {% if todos %}
        <div class="list-group">
            {% for todo in todos %}
                <div class="list-group-item d-flex justify-content-between align-items-center">

                    <div>
                        <h5 class="mb-1">
                            {% if todo.is_resolved %}
                                <del>{{ todo.title }}</del>
                                <span class="badge bg-success">Resolved</span>
                            {% else %}
                                {{ todo.title }}
                            {% endif %}
                        </h5>
                        <small class="text-muted">Due: {{ todo.due_date }}</small>
                    </div>

                    <div class="btn-group">
                        <a class="btn btn-sm btn-outline-secondary" href="{% url 'todo_edit' todo.pk %}">
                            Edit
                        </a>

                        <a class="btn btn-sm btn-outline-danger" href="{% url 'todo_delete' todo.pk %}">
                            Delete
                        </a>

                        <a class="btn btn-sm btn-outline-success"
                           href="{% url 'todo_toggle_resolve' todo.pk %}">
                           {% if todo.is_resolved %} Unresolve {% else %} Resolve {% endif %}
                        </a>
                    </div>

                </div>
            {% endfor %}
        </div>

    {% else %}
        <p>No TODOs yet.</p>
    {% endif %}
</div>

</body>
</html>

